# プロジェクト概要

## 1.1 背景・目的
既存の汎用ツール（Notion/Excel）での受動的な管理に限界を感じている就活生に対し、「能動的な提案（情報収集、ロジスティクス支援、リスク管理）」を行う専用アプリを提供する。企業管理、ES作成、面接対策、日程調整を一元化し、就活の精神的・物理的負担を軽減することを目的とする。

## 1.2 ターゲットユーザー
複数の企業を並行して受ける就職活動中の学生
タスク漏れやスケジュール管理に不安がある層

# 2. システム構成・技術スタック

| カテゴリ | 技術選定 | 選定理由・補足 |
| --- | --- | --- |
| Frontend | Next.js (React/TypeScript) | SEO、パフォーマンス、Vercelとの親和性。UIライブラリはMUIまたはTailwind CSSを推奨。 |
| Backend | FastAPI (Python) | 非同期処理、データ加工、外部API連携（スクレイピング等含む）への強さ。 |
| Database | Supabase (PostgreSQL) | RDBとしての信頼性、Auth機能の容易さ。 |
| ORM | SQLAlchemy | Python標準的なORM。複雑なリレーション管理のため。 |
| Infra | Vercel (Front) / Render or Railway (Back) | コストを抑えたデプロイ環境として選定。 |

# 3. 機能要件詳細
優先度定義:
[P1]: 必須 (MVPリリース時実装)
[P2]: 推奨 (Ver1.1〜実装)
[P3]: 将来検討

## 3.1 認証・ユーザー管理
| ID | 機能名 | 優先度 | 詳細 |
| --- | --- | --- | --- |
| U-01 | ユーザー登録・ログイン | [P1] | Supabase Authを利用 (Email/Password)。ユーザー固有のDB領域を作成。 |
| U-02 | プロフィール設定 | [P2] | ニックネーム、大学名（分析用・任意）、Google連携設定。 |

## 3.2 企業・選考ステータス管理 (Core)
| ID | 機能名 | 優先度 | 詳細 |
| --- | --- | --- | --- |
| C-01 | 企業CRUD機能 | [P1] | 企業の手動登録、編集、削除。志望度(1-5)、ログインID/Passメモの保存。 |
| C-02 | ステータス管理 | [P1] | 選考段階の変更（気になる→ES提出→面接→内定/お祈り）。カンバンボードまたはリスト表示。 |
| C-03 | 企業情報自動取得 | [P2] | Google Custom Search APIを使用。企業名入力時にHP、採用サイトURL、口コミサイトURLを自動補完。 |
| C-04 | 会社詳細ページ | [P1] | その企業の基本情報、イベント、ES、タスク、メモを1ページに集約表示。 |

## 3.3 カレンダー・イベント管理
| ID | 機能名 | 優先度 | 詳細 |
| --- | --- | --- | --- |
| E-01 | イベント作成 | [P1] | 面接、説明会、ES締切の登録。場所（URL/住所）の保存。 |
| E-02 | カレンダー表示 | [P1] | 月表示・週表示でのスケジュール確認。 |
| E-03 | Googleカレンダー連携 | [P2] | ユーザーのGoogleカレンダーの空き状況取得、アプリ内予定のGoogleカレンダーへの同期。 |
| E-04 | 移動リスクアラート | [P3] | 面接場所と現在地（自宅）から移動時間を逆算し、出発リマインドを行う。 |
| E-05 | 面接前カフェレコメンド | [P2] | 会場周辺(徒歩5分圏内)のカフェをGoogle Places API等で検索表示。 |

## 3.4 ES・振り返り・タスク (Content)
| ID | 機能名 | 優先度 | 詳細 |
| --- | --- | --- | --- |
| T-01 | Todoリスト | [P1] | 企業に紐付かない汎用タスク（スーツ準備等）と企業別タスクの管理。 |
| A-01 | ES管理・文字数カウント | [P1] | 設問・回答の保存。リアルタイム文字数カウント。 |
| A-02 | 振り返りログ | [P1] | イベント（面接）終了後に紐付けて記録。Good/Bad/Next Actionの記録。 |
| A-03 | お祈り傾向分析 | [P3] | 不採用ステータスの企業データを集計し、落ちやすいフェーズや業界を可視化。 |

## 3.5 通知・リマインダー
| ID | 機能名 | 優先度 | 詳細 |
| --- | --- | --- | --- |
| N-01 | メール確認リマインド | [P2] | 特定のステータス（結果待ち等）の企業に対し「メール確認しましたか？」と定期通知。 |
| N-02 | Gmail連携 | [P3] | 就活アドレスと連携し、特定企業の未読メール有無を表示（※審査難易度高のためP3）。 |

# 4. データベース設計 (Schema Overview)
Supabase上に構築するテーブル構造。

## 4.1 Users (ユーザー)
public.users: アプリケーション用ユーザー情報。auth.usersのUUIDと紐付く。

## 4.2 Companies (企業)
ユーザーID (FK)
企業名、URL、ログインID
パスワード (Backend側で暗号化して保存すること)
ステータス (Enum: Interested, Entry, ES_Submit, Interview, Offer, Rejected)
志望度 (int)

## 4.3 Events (イベント)
ユーザーID (FK), 企業ID (FK・Nullable)
タイトル、種類 (Interview, Deadline, Seminar)
開始日時、終了日時、場所
Google Calendar Event ID (同期用)

## 4.4 ES_Entries (エントリーシート)
企業ID (FK)
設問、回答、文字数制限
状態 (Draft, Completed)

## 4.5 Reflections (振り返り)
イベントID (FK・One-to-One)
感想、反省点、自己採点スコア

## 4.6 Tasks (Todo)
ユーザーID (FK), 企業ID (FK・Nullable)
タイトル、期限、完了フラグ

# 5. 外部システム・API連携戦略
## 5.1 Google Custom Search API (重要)
用途: 「企業名」から「公式サイト」「採用ページ」「口コミサイト」のURLを自動取得し、入力の手間を省く。
コスト: 1日100リクエストまで無料。
実装方針:
ユーザーが「企業名」を入力。
DB内にキャッシュがない場合のみAPIをコール (site:openwork.jp や site:twitter.com などのクエリを活用)。
取得結果を候補として表示し、ユーザーが選択したらDBに保存（次回以降はAPIを叩かない）。

## 5.2 Google Maps Platform (Places / Directions)
用途: 面接前のカフェ検索、移動時間計算。
コスト: 従量課金（毎月$200分の無料枠あり）。
実装方針: MVPでは実装せず、フェーズ2以降で導入。まずは「Google Mapのリンクを開く」のみで対応。

# 6. 非機能要件
セキュリティ:
企業マイページのパスワード等は、DB保存時に必ず暗号化（Fernet等を使用）し、平文で保存しない。
SupabaseのRLS（Row Level Security）を有効にし、他人のデータが見えないように制御する。
パフォーマンス:
外部API（Google Search等）のレスポンス待ちで画面が固まらないよう、非同期処理を行う。
UI/UX:
スマホでの利用を主とし、モバイルファーストなデザインにする。「入力の手間」を極限まで減らす（自動補完、テンプレート等）。

# 7. 開発ロードマップ
## Phase 1: MVP開発 (期間目安: 2〜3週間)
環境構築 (Next.js, FastAPI, Supabase)
ユーザー認証 (Signup/Login)
企業管理 (一覧、追加、詳細、削除)
イベント・カレンダー (基本登録機能)
Todoリスト
ES・振り返りの基本CRUD

## Phase 2: 独自機能実装 (期間目安: 2週間)
Google Custom Search API連携 (企業情報の自動補完)
ダッシュボード画面の強化 (今週の予定、未消化タスクの強調)
リマインド機能 (アプリ内通知)

## Phase 3: 高度化・外部連携 (期間目安: 未定)
Googleカレンダー双方向同期
カフェレコメンド機能
お祈り分析・統計機能

